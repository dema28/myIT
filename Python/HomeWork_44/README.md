# Автоматизация добавления товаров в корзину

Этот проект представляет собой автоматизированный тест на Python с использованием библиотеки **Selenium**. Он выполняет следующие задачи:

1. **Автоматизация браузера:**
   - Используется браузер Chrome в headless-режиме (без графического интерфейса).
   - Настройка браузера с помощью `ChromeDriverManager` для автоматической загрузки и управления драйвером.

2. **Основная задача:**
   - Добавление товаров в корзину на сайте [https://www.dracek.cz/](https://www.dracek.cz/).
   - Проверка, что количество добавленных товаров соответствует числу, отображаемому на значке корзины.

3. **Функциональность:**
   - **Принятие куки:** Программа автоматически принимает куки, если появляется соответствующее окно.
   - **Выбор случайной категории:** Из списка категорий выбирается случайная, и программа переходит в неё.
   - **Добавление товаров в корзину:**
     - Товары добавляются по порядку, начиная с первого на странице.
     - Используется уникальный идентификатор товара (например, артикул или название), чтобы избежать повторного добавления одного и того же товара.
     - Если на текущей странице недостаточно товаров, программа переходит на следующую страницу, нажимая кнопку "Načíst další produkty".
   - **Проверка количества товаров в корзине:**
     - После добавления товаров программа проверяет, совпадает ли количество добавленных товаров с числом на значке корзины.

4. **Основные функции:**
   - **`get_cart_count()`:** Получает количество товаров в корзине из элемента `<span id="checkout_items" class="checkout_items">`.
   - **`check_cart_count(expected_count)`:** Сравнивает количество товаров в корзине с ожидаемым значением и выводит сообщение об ошибке, если они не совпадают.
   - **`add_to_cart_test()`:** Основная функция, которая выполняет весь процесс:
     - Переход на сайт.
     - Принятие куки.
     - Выбор случайной категории.
     - Добавление товаров в корзину.
     - Переход на следующую страницу, если товаров недостаточно.
     - Проверка количества товаров в корзине.

5. **Обработка исключений:**
   - Код обрабатывает различные исключения, такие как `TimeoutException`, `NoSuchElementException`, и другие, чтобы обеспечить стабильную работу.

6. **Логирование:**
   - В консоль выводятся сообщения о каждом шаге, например:
     - "Перешли в случайную категорию."
     - "Добавлено товаров: X (ID: Y)"
     - "Переход на следующую страницу."
     - "Количество товаров в корзине совпадает: X"

7. **Завершение работы:**
   - После выполнения всех действий браузер закрывается.

---

## Как работает код:

1. **Инициализация браузера:**
   - Браузер Chrome запускается в headless-режиме (без графического интерфейса).

2. **Переход на сайт:**
   - Программа открывает сайт [https://www.dracek.cz/](https://www.dracek.cz/).

3. **Принятие куки:**
   - Если появляется окно с куки, программа автоматически нажимает кнопку для их принятия.

4. **Выбор случайной категории:**
   - Программа выбирает случайную категорию товаров и переходит в неё.

5. **Добавление товаров в корзину:**
   - Программа добавляет товары в корзину, начиная с первого и продолжая до тех пор, пока не будет добавлено заданное количество товаров (`total_product_count`).
   - Для каждого товара извлекается уникальный идентификатор (например, артикул или название), чтобы избежать повторного добавления.

6. **Переход на следующую страницу:**
   - Если на текущей странице недостаточно товаров, программа нажимает кнопку "Načíst další produkty" для загрузки новых товаров.

7. **Проверка количества товаров в корзине:**
   - После добавления товаров программа проверяет, совпадает ли количество добавленных товаров с числом на значке корзины.

8. **Завершение работы:**
   - После выполнения всех действий браузер закрывается.


